{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:16:59:1659"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:17:29:1729"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:17:59:1759"}
{"level":"info","message":"GET /ws - ::1","timestamp":"2025-07-06 14:17:59:1759"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:18:36:1836"}
{"level":"info","message":"GET /ws - ::1","timestamp":"2025-07-06 14:18:59:1859"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:19:06:196"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:22:16:2216"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:22:46:2246"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:23:04:234"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:24:24:2424"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:24:55:2455"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:26:36:2636"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:27:06:276"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 14:43:28:4328"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-02.spkdchc.mongodb.net","timestamp":"2025-07-06 14:43:29:4329"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 14:43:36:4336"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 14:43:53:4353"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 14:43:59:4359"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 14:46:45:4645"}
{"level":"error","message":"Failed to send welcome email: emailService.sendWelcomeEmail is not a function","stack":"TypeError: emailService.sendWelcomeEmail is not a function\n    at register (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/authController.js:107:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 14:46:45:4645"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 15:00:28:028"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 15:01:36:136"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 15:01:55:155"}
{"level":"error","message":"Failed to send welcome email: emailService.sendWelcomeEmail is not a function","stack":"TypeError: emailService.sendWelcomeEmail is not a function\n    at register (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/authController.js:107:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:01:56:156"}
{"level":"info","message":"POST /api/auth/login - ::1","timestamp":"2025-07-06 15:02:24:224"}
{"level":"info","message":"GET /api/wallet - ::1","timestamp":"2025-07-06 15:03:21:321"}
{"level":"info","message":"GET /api/wallet/transactions?page=1&limit=10&type=DIRECT_REFERRAL - ::1","timestamp":"2025-07-06 15:04:07:47"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:04:15:415"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:45)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:04:15:415"}
{"level":"info","message":"GET /api/wallet/commissions?level=1&page=1&limit=10 - ::1","timestamp":"2025-07-06 15:04:21:421"}
{"level":"info","message":"GET /api/wallet/balance-history?days=30 - ::1","timestamp":"2025-07-06 15:04:27:427"}
{"level":"info","message":"GET /api/team/direct?page=1&limit=10 - ::1","timestamp":"2025-07-06 15:05:24:524"}
{"level":"info","message":"GET /api/team/level/2?page=1&limit=10 - ::1","timestamp":"2025-07-06 15:06:03:63"}
{"level":"info","message":"GET /api/team/complete?page=1&limit=20 - ::1","timestamp":"2025-07-06 15:06:19:619"}
{"level":"info","message":"GET /api/dashboard - ::1","timestamp":"2025-07-06 15:07:04:74"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:07:04:74"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:13:24:1324"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-00.spkdchc.mongodb.net","timestamp":"2025-07-06 15:13:25:1325"}
{"level":"info","message":"GET /api/dashboard - ::1","timestamp":"2025-07-06 15:13:32:1332"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:13:32:1332"}
{"level":"info","message":"POST /api/auth/login - ::1","timestamp":"2025-07-06 15:13:40:1340"}
{"level":"info","message":"GET /api/dashboard - ::1","timestamp":"2025-07-06 15:13:44:1344"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:13:44:1344"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:16:02:162"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-00.spkdchc.mongodb.net","timestamp":"2025-07-06 15:16:02:162"}
{"level":"info","message":"GET /api/dashboard - ::1","timestamp":"2025-07-06 15:16:13:1613"}
{"level":"info","message":"GET /api/investment - ::1","timestamp":"2025-07-06 15:16:59:1659"}
{"level":"info","message":"GET /api/investment - ::1","timestamp":"2025-07-06 15:20:12:2012"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:20:25:2025"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-02.spkdchc.mongodb.net","timestamp":"2025-07-06 15:20:26:2026"}
{"level":"info","message":"GET /api/investment - ::1","timestamp":"2025-07-06 15:20:36:2036"}
{"level":"info","message":"GET /api/user?page=1&limit=10&search=john&status=ACTIVE - ::1","timestamp":"2025-07-06 15:20:53:2053"}
{"level":"info","message":"GET /api/dashboard/earnings-chart?period=last30days - ::1","timestamp":"2025-07-06 15:21:09:219"}
{"level":"info","message":"GET /api/dashboard/team-growth?period=last12months - ::1","timestamp":"2025-07-06 15:21:18:2118"}
{"level":"info","message":"GET /api/dashboard/quick-actions - ::1","timestamp":"2025-07-06 15:21:24:2124"}
{"level":"info","message":"GET /api/dashboard/income-analytics - ::1","timestamp":"2025-07-06 15:21:59:2159"}
{"level":"info","message":"GET /api/withdrawal?page=1&limit=10&status=PENDING - ::1","timestamp":"2025-07-06 15:22:28:2228"}
{"level":"info","message":"GET /api/withdrawal/%7B%7BwithdrawalId%7D%7D - ::1","timestamp":"2025-07-06 15:22:42:2242"}
{"kind":"ObjectId","level":"error","message":"Get withdrawal by ID error: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"\n    at ObjectId.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOne (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2533:8)\n    at model.Query.exec (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getWithdrawalById (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/withdrawalController.js:208:24)","stringValue":"\"{{withdrawalId}}\"","timestamp":"2025-07-06 15:22:42:2242","value":"{{withdrawalId}}","valueType":"string"}
{"level":"info","message":"PUT /api/withdrawal/%7B%7BwithdrawalId%7D%7D/cancel - ::1","timestamp":"2025-07-06 15:22:57:2257"}
{"kind":"ObjectId","level":"error","message":"Cancel withdrawal error: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"\n    at ObjectId.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOne (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2533:8)\n    at model.Query.exec (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cancelWithdrawal (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/withdrawalController.js:259:24)","stringValue":"\"{{withdrawalId}}\"","timestamp":"2025-07-06 15:22:57:2257","value":"{{withdrawalId}}","valueType":"string"}
{"level":"info","message":"GET /api/withdrawal/stats - ::1","timestamp":"2025-07-06 15:23:03:233"}
{"level":"info","message":"GET /api/withdrawal?page=1&limit=10&status=PENDING - ::1","timestamp":"2025-07-06 15:23:15:2315"}
{"level":"info","message":"POST /api/withdrawal - ::1","timestamp":"2025-07-06 15:23:39:2339"}
{"level":"info","message":"POST /api/withdrawal - ::1","timestamp":"2025-07-06 15:23:50:2350"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:23:59:2359"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:23:59:2359"}
{"level":"info","message":"GET /api/wallet - ::1","timestamp":"2025-07-06 15:24:11:2411"}
{"level":"info","message":"GET /api/wallet/transactions?page=1&limit=10&type=DIRECT_REFERRAL - ::1","timestamp":"2025-07-06 15:24:15:2415"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:24:30:2430"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-01.spkdchc.mongodb.net","timestamp":"2025-07-06 15:24:31:2431"}
{"level":"info","message":"GET /api/wallet/transactions?page=1&limit=10&type=DIRECT_REFERRAL - ::1","timestamp":"2025-07-06 15:24:34:2434"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:24:39:2439"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:24:39:2439"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:26:54:2654"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-00.spkdchc.mongodb.net","timestamp":"2025-07-06 15:26:55:2655"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:27:00:270"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:27:00:270"}
{"level":"info","message":"GET /api/wallet - ::1","timestamp":"2025-07-06 15:27:04:274"}
{"level":"info","message":"GET /api/wallet/transactions?page=1&limit=10&type=DIRECT_REFERRAL - ::1","timestamp":"2025-07-06 15:27:07:277"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:27:10:2710"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:27:10:2710"}
{"level":"info","message":"GET /api/wallet/commissions?level=1&page=1&limit=10 - ::1","timestamp":"2025-07-06 15:27:13:2713"}
{"level":"info","message":"GET /api/wallet/balance-history?days=30 - ::1","timestamp":"2025-07-06 15:27:16:2716"}
{"level":"info","message":"PUT /api/user/profile - ::1","timestamp":"2025-07-06 15:27:39:2739"}
{"level":"info","message":"PUT /api/user/bank-account - ::1","timestamp":"2025-07-06 15:27:59:2759"}
{"level":"info","message":"PUT /api/user/bank-account - ::1","timestamp":"2025-07-06 15:28:19:2819"}
{"level":"info","message":"PUT /api/user/usdt-address - ::1","timestamp":"2025-07-06 15:28:29:2829"}
{"level":"info","message":"GET /api/auth/verify-referral/REF123 - ::1","timestamp":"2025-07-06 15:28:40:2840"}
{"level":"info","message":"GET /api/auth/verify-referral/OWT7R2AY - ::1","timestamp":"2025-07-06 15:29:11:2911"}
{"level":"info","message":"GET /api/auth/profile - ::1","timestamp":"2025-07-06 15:29:19:2919"}
{"level":"info","message":"POST /api/auth/login - ::1","timestamp":"2025-07-06 15:29:42:2942"}
{"level":"info","message":"POST /api/auth/register - ::1","timestamp":"2025-07-06 15:29:54:2954"}
{"level":"info","message":"GET /api/dashboard - ::1","timestamp":"2025-07-06 15:30:02:302"}
{"level":"info","message":"GET /api/dashboard/earnings-chart?period=last30days - ::1","timestamp":"2025-07-06 15:30:09:309"}
{"level":"info","message":"GET /api/dashboard/team-growth?period=last12months - ::1","timestamp":"2025-07-06 15:30:12:3012"}
{"level":"info","message":"GET /api/dashboard/quick-actions - ::1","timestamp":"2025-07-06 15:30:18:3018"}
{"level":"info","message":"GET /api/dashboard/income-analytics - ::1","timestamp":"2025-07-06 15:30:24:3024"}
{"level":"info","message":"POST /api/investment - ::1","timestamp":"2025-07-06 15:30:47:3047"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:30:56:3056"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:30:56:3056"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:30:58:3058"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:30:58:3058"}
{"level":"info","message":"GET /api/wallet/transactions?page=1&limit=10&type=DIRECT_REFERRAL - ::1","timestamp":"2025-07-06 15:31:08:318"}
{"level":"info","message":"GET /api/wallet - ::1","timestamp":"2025-07-06 15:31:11:3111"}
{"level":"info","message":"GET /api/wallet/commissions?level=1&page=1&limit=10 - ::1","timestamp":"2025-07-06 15:31:27:3127"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:32:41:3241"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:32:41:3241"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:34:40:3440"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:34:40:3440"}
{"level":"info","message":"Server running on port 3000 in development mode","timestamp":"2025-07-06 15:34:55:3455"}
{"level":"info","message":"MongoDB Connected: ac-kns2698-shard-00-02.spkdchc.mongodb.net","timestamp":"2025-07-06 15:34:55:3455"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:35:01:351"}
{"level":"info","message":"GET /api/wallet/commissions?level=1&page=1&limit=10 - ::1","timestamp":"2025-07-06 15:35:08:358"}
{"level":"info","message":"GET /api/wallet/income-summary?startDate=2024-01-01&endDate=2024-12-31 - ::1","timestamp":"2025-07-06 15:35:12:3512"}
{"level":"info","message":"GET /api/user?page=1&limit=10&search=john&status=ACTIVE - ::1","timestamp":"2025-07-06 15:36:47:3647"}
