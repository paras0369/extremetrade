{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:17:29:1729"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:19:06:196"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:22:46:2246"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:24:55:2455"}
{"level":"error","message":"Database connection failed: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-l381tl-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/connection.js:791:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/config/database.js:10:18)","timestamp":"2025-07-06 14:27:06:276"}
{"level":"error","message":"Failed to send welcome email: emailService.sendWelcomeEmail is not a function","stack":"TypeError: emailService.sendWelcomeEmail is not a function\n    at register (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/authController.js:107:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 14:46:45:4645"}
{"level":"error","message":"Failed to send welcome email: emailService.sendWelcomeEmail is not a function","stack":"TypeError: emailService.sendWelcomeEmail is not a function\n    at register (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/authController.js:107:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:01:56:156"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:45)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:04:15:415"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:07:04:74"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:13:32:1332"}
{"level":"error","message":"Get dashboard summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at teamSchema.statics.getTeamStats (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/models/Team.js:81:40)\n    at getDashboardSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/dashboardController.js:27:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:13:44:1344"}
{"kind":"ObjectId","level":"error","message":"Get withdrawal by ID error: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"\n    at ObjectId.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOne (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2533:8)\n    at model.Query.exec (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getWithdrawalById (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/withdrawalController.js:208:24)","stringValue":"\"{{withdrawalId}}\"","timestamp":"2025-07-06 15:22:42:2242","value":"{{withdrawalId}}","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cancel withdrawal error: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{{withdrawalId}}\" (type string) at path \"_id\" for model \"Withdrawal\"\n    at ObjectId.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOne (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:2533:8)\n    at model.Query.exec (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cancelWithdrawal (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/withdrawalController.js:259:24)","stringValue":"\"{{withdrawalId}}\"","timestamp":"2025-07-06 15:22:57:2257","value":"{{withdrawalId}}","valueType":"string"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:23:59:2359"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:167:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:24:39:2439"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:27:00:270"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:27:10:2710"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:30:56:3056"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:30:58:3058"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:32:41:3241"}
{"level":"error","message":"Get income summary error: Class constructor ObjectId cannot be invoked without 'new'","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at getIncomeSummary (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/controllers/walletController.js:168:49)\n    at Layer.handle [as handle_request] (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticate (/Users/nakulsingh/Documents/Documents/Paras/extremetrade/mlm_backend/src/middleware/auth.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-07-06 15:34:40:3440"}
